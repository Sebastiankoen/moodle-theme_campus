// Campus custom.

// Theme background.
body {
    background-color: @themeBackground;
}

// Anti gravity.
.antiGravity {
    background-color: rgba(red(@bodyBackgroundAlt), green(@bodyBackgroundAlt), blue(@bodyBackgroundAlt), 0.6);
    border-color: @bodyBackgroundAlt;
    border-radius: 1em;
    border-style: solid;
    border-width: 1px;
    bottom: 32px;
    color: @navbarText;
    display: none;
    font-size: 32px;
    line-height: 1;
    padding: 10px 10px 6px 10px; 
    position: fixed;
    right: 40px;
    text-align: center; 
    text-decoration: none;
    &:hover {
        text-decoration: none;
        border-radius: 1em;
        color: darken(@navbarText, 10%);
    }
    i.fa {
        padding-bottom: 2px;
    }
}

// Goto bottom.
@media (max-width: 979px) {
    .navbar .nav {
        &.slusermenu li:first-child {
            position: absolute;
            right: 0;
            z-index: 1;
        }
    }
}

// Local login.
body.hidelocallogin .loginbox .loginsub { // See core_renderer::body_attributes().
    display: none;
}

// Login buttons.
.logininfo .btn {
    margin-left: 5px;
}

// Frontpage.
.frontpageheader.absolutelayout {
    position: relative;
    max-height: @frontpageHeaderHeight;
    max-width: 1680px;
    padding-left: 20px;
    padding-right: 20px;
    margin: 0 auto;
    .logotitle {
        position: absolute;
        top: 0px;
        left: @frontpageLogoPositionLeft;
        right: @frontpageLogoPositionRight;
        z-index: 1;
        max-height: @frontpageLogoHeight;
    }
    .frontpagelogoheight {
        max-height: @frontpageLogoHeight;
    }
    .sitename {
        position: absolute;
        top: 10px;
        left: @frontpageSitenamePositionLeft;
        right: @frontpageSitenamePositionRight;
        z-index: 1;
    }
    .backgroundimage {
        max-height: inherit;
        float: @frontpageBackgroundPosition;
    }
}
@media (max-width: @navbarCollapseWidth) {
    .frontpageheader.absolutelayout {
        .frontpagelogoheight {
            max-height: auto;
        }
    }
}

@media (max-width: 767px) {
    .frontpageheader.absolutelayout {
        padding-left: 0px;
        padding-right: 0px;
    }
}

.frontpageheader.flexlayout {
    position: relative;
    max-height: @frontpageHeaderHeight;
    max-width: 1680px;
    padding-left: 20px;
    padding-right: 20px;
    margin: 0 auto;
    .flexlayouttable {
        display: table;
        width: 100%;
        table-layout: fixed;
        max-height: inherit;
    }
    .logotitle {
        display: table-cell;
        width: @frontpageLogoWidth;
        max-height: inherit;
        a {
            max-height: inherit;
            img {
                max-height: inherit;
            }
        }
    }
    .logotitle.left {
        text-align: left;
    }
    .logotitle.right {
        text-align: right;
    }
    .backgroundcontainer {
        display: table-cell;
        width: @frontpageBackgroundWidth;
        max-height: inherit;
        .backgroundimage {
            max-height: inherit;
        }
    }
    .backgroundcontainer.left {
        text-align: right;
    }
    .backgroundcontainer.right {
        text-align: left;
    }
    .sitename {
        position: absolute;
        top: 10px;
        left: @frontpageSitenamePositionLeft;
        right: @frontpageSitenamePositionRight;
        z-index: 1;
    }
}

@media (max-width: 767px) {
    .frontpageheader.flexlayout {
        padding-left: 0px;
        padding-right: 0px;
    }
}

// Navbar.
.navbar {
    clear: both;
    max-width: 1680px;
    padding-left: 20px;
    padding-right: 20px;
    margin: 0 auto;
    img.userpicture {
        vertical-align: top;
        width: auto;
        height: auto;
        max-width: 20px;
        max-height: 20px;
    }
}

@media (max-width: @navbarCollapseWidth) {
    .navbar {
        display: inline-table;
        .nav-collapse.collapse {
            display: none;
        }
        .nav-collapse.collapse.active {
            display: block;
        }
    }
}

@media (max-width: 767px) {
    .navbar {
        padding-left: 0px;
        padding-right: 0px;
    }
}

// Slideshow.
#campusCarousel.carousel {
    margin-bottom: 10px;
    .carousel-inner {
        > .item {
            .carousel-image-container {
                text-align: center;
                width: 90%;
                padding-left: 5%;
                padding-right: 5%;
            }
            .carousel-image {
                width: auto;
                margin: 0 auto;
                margin-top: 8px;
                height: auto;
                max-height: 300px;
                vertical-align: middle; // See: http://www.vanseodesign.com/css/vertical-centering/.
                max-width: 100%;
            }
            &.side-caption {
                div.the-side-caption {
                    padding-left: 7%;
                }
            }
            &.side-caption .carousel-image {
                box-shadow: 0px 0px 8px #222;
                padding: 8px;
                background-color: #fff;
                margin-left: -8px;
            }
        }
        a,
        a:hover,
            a:active {
            text-decoration: none;
            height: 100%;
        }
        // Caption for text below images.
        .carousel-caption {
            border-radius: @baseBorderRadius + 2;
            .carousel-caption-inner {
                margin: 0 auto;
            }
            h4, p {
                padding: 0px 20px;
            }
            p {
                line-height: 1;
            }
        }
        &.centred {
            .carousel-caption {
                text-align: center;
            }
        }
    }
    // Left/right controls for nav.
    .carousel-control {
        display: none; // Shown when carousel hovered on, see below.
        background: none;
        border: 0px;
        font-size: 30px;
        &:hover,
            &:focus {
            background: none;
            border: 0px;
        }
    }
    &:hover .carousel-control{
        display: block;
    }
    .carousel-indicators {
        border-radius: @baseBorderRadius;
        padding-right: 5px;
        padding-top: 2px;
        padding-bottom: 2px;
        background-color: #fff;
        background-color: rgba(255, 255, 255, .50);
        right: 5px;
    }

    // Responsive.
    // @screen-xs-min.
    @media(min-width: 480px) {
        .carousel-control {
            font-size: 36px;
        }
    }
    @media (max-width: 767px) {
        .carousel-inner {
            > .item {
                height: 200px;
                .carousel-image-container {
                    line-height: 200px; // See: http://www.vanseodesign.com/css/vertical-centering/.
                }
                .carousel-image {
                    max-height: 165px;
                }
                .carousel-caption {
                    position: absolute;
                    h4 {
                        font-size: 1.2em;
                    }
                }
            }
        }
    }

    // @screen-sm-min.
    @media(min-width: 768px) {
        .carousel-inner {
            > .item {
                height: 260px;
                .carousel-image-container {
                    line-height: 260px;
                }
                .carousel-image {
                    max-height: 225px;
                }
            }
        }
        .carousel-control {
            font-size: 40px;
        }
    }
    @media (min-width: 768px) and (max-width: 979px) {
        .carousel-inner {
            > .item {
                .carousel-caption {
                    h4 {
                        font-size: 1.2em;
                    }
                }
            }
        }
    }

    // @screen-md-min.
    @media(min-width: 992px) {
        .carousel-inner {
            > .item {
                height: 328px;
                .carousel-image-container {
                    line-height: 328px;
                }
                .carousel-image {
                    max-height: 293px;
                }
            }
        }
        .carousel-control {
            font-size: 50px;
        }
    }

    // @screen-lg-min.
    @media(min-width: 1200px) {
        .carousel-inner {
            > .item {
                height: 368px;
                .carousel-image-container {
                    line-height: 368px;
                }
                .carousel-image {
                    max-height: 333px;
                }
            }
        }
        .carousel-control {
            font-size: 60px;
        }
    }
}

// Slider settings.
#campusCarousel.carousel {
  .carousel-inner {
    // Caption for text below images.
    .carousel-caption {
      background-color: rgba(red(@carouselColour), green(@carouselColour), blue(@carouselColour), 0.75); // Same as theme colour.
      .carousel-caption-inner {
        //max-width: ~"[[setting:pagewidth]]";
        max-width: 1680px;
      }
      h4, p {
        color: @carouselTextColour;
      }
    }
  }
  // Left/right controls for nav.
  .carousel-control {
    color: @slideButtonColour;
    &:hover,
    &:focus {
      color: @slideButtonHoverColour;
    }
  }

  // Carousel indicator pips.
  .carousel-indicators {
    box-shadow: 0px 0px 8px @carouselColour;
    li {
      background-color: @carouselColour;
    }
    .active {
      background-color: @carouselActiveColour;  // Same as theme colour.
    }
  }
}

// Course category.
.coursecategoryheader.absolutelayout {
    position: relative;
    max-height: @courseCategoryHeaderHeight;
    max-width: 1680px;
    padding-left: 20px;
    padding-right: 20px;
    margin: 0 auto;
    .logotitle {
        position: absolute;
        top: 0px;
        left: @courseCategoryLogoPositionLeft;
        right: @courseCategoryLogoPositionRight;
        z-index: 1;
        max-height: @courseCategoryLogoHeight;
    }
    .frontpagelogoheight {
        max-height: @courseCategoryLogoHeight;
    }
    .sitename {
        position: absolute;
        top: 10px;
        left: @courseCategorySitenamePositionLeft;
        right: @courseCategorySitenamePositionRight;
        z-index: 1;
    }
    .backgroundimage {
        max-height: inherit;
        float: @frontpageBackgroundPosition;
    }
}
@media (max-width: @navbarCollapseWidth) {
    .coursecategoryheader.absolutelayout {
        .frontpagelogoheight {
            max-height: auto;
        }
    }
}

@media (max-width: 767px) {
    .coursecategoryheader.absolutelayout {
        padding-left: 0px;
        padding-right: 0px;
    }
}

.coursecategoryheader.flexlayout {
    position: relative;
    max-height: @courseCategoryHeaderHeight;
    max-width: 1680px;
    padding-left: 20px;
    padding-right: 20px;
    margin: 0 auto;
    .flexlayouttable {
        display: table;
        width: 100%;
        table-layout: fixed;
        max-height: inherit;
    }
    .logotitle {
        display: table-cell;
        width: @courseCategoryLogoWidth;
        max-height: inherit;
        a {
            max-height: inherit;
            img {
                max-height: inherit;
            }
        }
    }
    .logotitle.left {
        text-align: left;
    }
    .logotitle.right {
        text-align: right;
    }
    .backgroundcontainer {
        display: table-cell;
        width: @courseCategoryBackgroundWidth;
        max-height: inherit;
        .backgroundimage {
            max-height: inherit;
        }
    }
    .backgroundcontainer.left {
        text-align: right;
    }
    .backgroundcontainer.right {
        text-align: left;
    }
    .sitename {
        position: absolute;
        top: 10px;
        left: @courseCategorySitenamePositionLeft;
        right: @courseCategorySitenamePositionRight;
        z-index: 1;
    }
}

@media (max-width: 767px) {
    .coursecategoryheader.flexlayout {
        padding-left: 0px;
        padding-right: 0px;
    }
}

// TEMP Parametric Mixin test.
.ccpmt(@courseCategoryKey) {
    .coursecategorytest@{courseCategoryKey} {
        display: none;
    }
}

// Footer.
#page-footer .logininfo {
    margin-bottom: 5px;
}

// Remove text shadow from navbar, block headings and buttons - task 390.
.navbar .nav > li > a, .block .header .title h2, .block h3.main, .btn, .breadcrumb > li {
    text-shadow: none;
}